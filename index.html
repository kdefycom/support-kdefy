<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kdefy ‚Äî Termos & Reembolso</title>
<style>
:root{
  --bg:#0b0b0b;--panel:#0f0f0f;--muted:#bdbdbd;--text:#ffffff;--accent:#ffffff;--success:#00ff6a;
}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text)}
a{color:inherit;text-decoration:none}
.wrap{display:flex;min-height:100vh;overflow:hidden}
.sidebar{
  width:280px;background:var(--panel);border-right:1px solid #181818;box-sizing:border-box;padding:28px 22px;position:fixed;left:0;top:0;bottom:0;display:flex;flex-direction:column;gap:22px
}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo-canvas{width:56px;height:56px;border-radius:8px;background:#000;flex:0 0 56px}
.brand h1{font-size:18px;margin:0;font-weight:700;letter-spacing:0.6px;color:var(--accent);}
nav{display:flex;flex-direction:column;gap:10px;margin-top:6px}
nav a{padding:10px 12px;border-radius:8px;color:var(--muted);font-weight:600;transition:all .12s}
nav a:hover{color:var(--accent);background:#0a0a0a}
.small{font-size:12px;color:var(--muted);margin-top:auto}
.content{margin-left:320px;flex:1;padding:36px 48px 80px 48px;overflow:auto;height:100vh;box-sizing:border-box}
header h2{margin:0;font-size:28px;color:var(--accent);letter-spacing:0.2px}
section{margin-bottom:36px}
h3{margin:0 0 10px 0;color:#fff}
p,ul{color:var(--muted);line-height:1.6}
ul{padding-left:18px}
.highlight{background:#111;padding:14px;border-left:4px solid #222;margin:12px 0;border-radius:6px}
.rule{font-weight:700;color:#fff;margin-top:8px}
footer{position:fixed;right:20px;bottom:18px;background:#0c0c0c;padding:12px 14px;border-radius:8px;border:1px solid #1a1a1a;color:var(--muted);font-size:13px}
html{scroll-behavior:smooth}
form{display:flex;flex-direction:column;gap:10px;background:#111;padding:18px;border-radius:8px;max-width:480px;position:relative;}
label{font-weight:600;color:#fff}
input,textarea,select{background:#0d0d0d;border:1px solid #222;color:#fff;padding:10px;border-radius:6px;width:100%;box-sizing:border-box;font-family:Inter,Arial,sans-serif;}
button{background:var(--accent);color:#000;font-weight:700;border:none;border-radius:6px;padding:12px;cursor:pointer;transition:.2s}
button:hover{background:#ddd}
#fileLabel{display:inline-block;background:#222;padding:10px;border-radius:6px;cursor:pointer;text-align:center;}
#file{display:none;}
.preview img{max-width:100%;margin-top:10px;border-radius:6px;border:1px solid #222}
.success-box{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);flex-direction:column;align-items:center;justify-content:center;padding:20px;border:2px solid var(--success);border-radius:12px;background:#0d0d0d;color:var(--success);z-index:1000;max-width:400px;text-align:center;box-shadow:0 0 20px var(--success);}
.success-box h3{margin:0 0 10px 0;color:var(--success);}
.success-box p{color:var(--muted);}
#langMenu{display:none;position:absolute;top:40px;right:10px;background:#222;border-radius:8px;overflow:hidden;flex-direction:column;min-width:120px;z-index:1001;}
#langMenu button{padding:10px;border:none;background:#222;color:#fff;text-align:left;cursor:pointer;width:100%;transition:.2s}
#langMenu button:hover{background:#333}
.flag-btn{position:absolute;top:10px;right:10px;padding:10px;border-radius:50%;border:none;cursor:pointer;background:#222;color:#fff;font-weight:600;transition:.2s;font-size:18px}
.flag-btn:hover{background:#333}
@media (max-width:900px){
  .sidebar{position:static;width:100%;height:auto;padding:18px;display:flex;flex-direction:row;gap:12px;align-items:center}
  .content{margin-left:0;padding:20px}
  .wrap{flex-direction:column}
  nav{flex-direction:row;gap:8px;overflow:auto}
  nav a{white-space:nowrap}
}
</style>
</head>
<body>
<div class="wrap">
  <aside class="sidebar">
    <div class="brand">
      <canvas class="logo-canvas" id="logoCanvas" width="128" height="128"></canvas>
      <div>
        <h1>Kdefy</h1>
      </div>
    </div>
    <nav>
      <a href="#resumo" data-translate="Resumo">Resumo</a>
      <a href="#reembolso" data-translate="Pol√≠tica de Reembolso">Pol√≠tica de Reembolso</a>
      <a href="#privacidade" data-translate="Privacidade">Privacidade</a>
      <a href="#termos" data-translate="Termos">Termos</a>
      <a href="#contato" data-translate="Contato">Contato</a>
    </nav>
    <div class="small" id="supportInfo">kdefycom@gmail.com<br>√öltima atualiza√ß√£o: <span id="lastUpdateSmall"></span></div>
  </aside>

  <main class="content">
    <button class="flag-btn" id="langBtn">üåê</button>
    <div id="langMenu">
      <button data-lang="pt">Portugu√™s</button>
      <button data-lang="en">English</button>
    </div>
    <header id="resumo">
      <h2 data-translate="Kdefy ‚Äî Pol√≠ticas para clientes">Kdefy ‚Äî Pol√≠ticas para clientes</h2>
    </header>

    <section id="reembolso">
      <h3 data-translate="Pol√≠tica de Reembolso">Pol√≠tica de Reembolso</h3>
      <div class="highlight">
        <div class="rule" data-translate="Regra principal:">Regra principal:</div>
        <p data-translate="Reembolsos s√≥ dentro de 30 dias corridos e apenas em caso de falha t√©cnica comprovada.">Reembolsos s√≥ dentro de 30 dias corridos e apenas em caso de falha t√©cnica comprovada.</p>
      </div>
      <ul>
        <li data-translate="Pedidos fora do prazo s√£o recusados.">Pedidos fora do prazo s√£o recusados.</li>
        <li data-translate="Vendas com desconto podem n√£o ter reembolso.">Vendas com desconto podem n√£o ter reembolso.</li>
        <li data-translate="Altera√ß√µes ou mau uso anulam o direito.">Altera√ß√µes ou mau uso anulam o direito.</li>
      </ul>
    </section>

    <section id="privacidade">
      <h3 data-translate="Pol√≠tica de Privacidade">Pol√≠tica de Privacidade</h3>
      <p data-translate="Coletamos apenas dados essenciais (nome, e-mail, n√∫mero e comprovante de pagamento). N√£o h√° compartilhamento com terceiros, salvo exig√™ncia legal.">Coletamos apenas dados essenciais (nome, e-mail, n√∫mero e comprovante de pagamento). N√£o h√° compartilhamento com terceiros, salvo exig√™ncia legal.</p>
    </section>

    <section id="termos">
      <h3 data-translate="Termos de Uso">Termos de Uso</h3>
      <ul>
        <li data-translate="Uso permitido apenas em conformidade com leis e regras das plataformas.">Uso permitido apenas em conformidade com leis e regras das plataformas.</li>
        <li data-translate="Proibida revenda sem autoriza√ß√£o.">Proibida revenda sem autoriza√ß√£o.</li>
        <li data-translate="Suporte e atualiza√ß√µes podem ter custo adicional.">Suporte e atualiza√ß√µes podem ter custo adicional.</li>
      </ul>
    </section>

    <section id="contato">
      <h3 data-translate="Solicitar Reembolso / Contato">Solicitar Reembolso / Contato</h3>
      <form id="contactForm" enctype="multipart/form-data">
        <label for="type">Tipo de Solicita√ß√£o</label>
        <select id="type" name="type">
          <option value="reembolso" data-translate="Reembolso">Reembolso</option>
          <option value="outro" data-translate="Outro">Outro</option>
        </select>
        <label for="name" data-translate="Nome">Nome</label>
        <input type="text" id="name" name="name" placeholder="Seu nome" required>
        <label for="email" data-translate="E-mail">E-mail</label>
        <input type="email" id="email" name="email" placeholder="Seu e-mail" required>
        <label for="phone" data-translate="N√∫mero">N√∫mero</label>
        <input type="text" id="phone" name="phone" placeholder="Seu n√∫mero (opcional)">
        <label for="message" data-translate="Mensagem">Mensagem</label>
        <textarea id="message" name="message" rows="4" placeholder="Digite sua mensagem..." required></textarea>
        <label id="fileLabel" for="file" data-translate="Anexar imagem (opcional)">Selecionar imagem</label>
        <input type="file" id="file" name="file" accept="image/*">
        <div class="preview" id="preview"></div>
        <button type="submit" data-translate="Enviar">Enviar</button>
      </form>
      <div class="success-box" id="successBox">
        <canvas id="successLogo" width="80" height="80"></canvas>
        <h3 data-translate="Mensagem enviada com sucesso!">Mensagem enviada com sucesso!</h3>
        <p data-translate="Seu pedido foi recebido e ser√° analisado.">Seu pedido foi recebido e ser√° analisado. Para mais informa√ß√µes acesse <a href="https://support.kdefy.com/terms-privacy" target="_blank">support.kdefy.com/terms-privacy</a></p>
      </div>
    </section>
  </main>
</div>

<footer id="footer"><div id="lastUpdate"></div></footer>

<script>
const c=document.getElementById('logoCanvas'),ctx=c.getContext('2d');
ctx.fillStyle='#000';ctx.fillRect(0,0,c.width,c.height);
ctx.fillStyle='#fff';ctx.fillRect(18,18,c.width-36,c.height-36);
ctx.fillStyle='#000';ctx.fillRect(28,26,14,c.height-52);
ctx.beginPath();ctx.moveTo(c.width/2+6,28);ctx.lineTo(c.width-28,c.height/2);ctx.lineTo(c.width/2+6,c.height-28);ctx.closePath();ctx.fill();
const f=document.createElement('canvas');f.width=64;f.height=64;const fx=f.getContext('2d');
fx.fillStyle='#000';fx.fillRect(0,0,64,64);
fx.drawImage(c,0,0,64,64);
const link=document.createElement('link');link.rel='icon';link.href=f.toDataURL('image/png');document.head.appendChild(link);

const d=new Date();const formatted=d.toLocaleDateString('pt-BR',{year:'numeric',month:'long',day:'2-digit'});
document.getElementById('lastUpdate').textContent='√öltima atualiza√ß√£o: '+formatted;
document.getElementById('lastUpdateSmall').textContent=formatted;

document.getElementById('file').addEventListener('change',e=>{
  const file=e.target.files[0];const prev=document.getElementById('preview');prev.innerHTML='';
  if(file){const img=document.createElement('img');img.src=URL.createObjectURL(file);prev.appendChild(img);}
});

document.getElementById('contactForm').addEventListener('submit',async e=>{
  e.preventDefault();
  const form=document.getElementById('contactForm');
  const formData=new FormData(form);
  try{
    const res=await fetch('http://localhost:3000/send',{method:'POST',body:formData});
    if(res.ok){
      const box=document.getElementById('successBox');
      box.style.display='flex';
      setTimeout(()=>{box.style.display='none'},5000);
      form.reset();
      document.getElementById('preview').innerHTML='';
      const sl=document.getElementById('successLogo'),sctx=sl.getContext('2d');
      sctx.clearRect(0,0,80,80);
      sctx.fillStyle='#000';sctx.fillRect(0,0,80,80);
      sctx.fillStyle='#00ff6a';sctx.font='bold 28px Arial';
      sctx.fillText('K',20,50);
    }else alert('Erro ao enviar. Tente novamente.');
  }catch(err){alert('Erro ao conectar com o servidor.');console.error(err);}
});

const langBtn=document.getElementById('langBtn'),langMenu=document.getElementById('langMenu');
langBtn.addEventListener('click',()=>{langMenu.style.display=langMenu.style.display==='flex'?'none':'flex'});
document.querySelectorAll('#langMenu button').forEach(b=>{b.addEventListener('click',()=>{currentLang=b.dataset.lang;updateLang();langMenu.style.display='none'})});

const translations={
en:{
"Resumo":"Summary","Pol√≠tica de Reembolso":"Refund Policy","Privacidade":"Privacy","Termos":"Terms","Contato":"Contact",
"Kdefy ‚Äî Pol√≠ticas para clientes":"Kdefy ‚Äî Customer Policies",
"Regra principal:":"Main Rule:","Reembolsos s√≥ dentro de 30 dias corridos e apenas em caso de falha t√©cnica comprovada.":"Refunds only within 30 days and only in case of verified technical issues.",
"Pedidos fora do prazo s√£o recusados.":"Requests beyond deadline are denied.","Vendas com desconto podem n√£o ter reembolso.":"Discounted sales may not be refunded.",
"Altera√ß√µes ou mau uso anulam o direito.":"Changes or misuse void the right.","Pol√≠tica de Privacidade":"Privacy Policy",
"Coletamos apenas dados essenciais (nome, e-mail, n√∫mero e comprovante de pagamento). N√£o h√° compartilhamento com terceiros, salvo exig√™ncia legal.":"We collect only essential data (name, email, phone, payment proof). No third-party sharing except legal requirements.",
"Termos de Uso":"Terms of Use","Uso permitido apenas em conformidade com leis e regras das plataformas.":"Use only in compliance with laws and platform rules.",
"Proibida revenda sem autoriza√ß√£o.":"Resale without permission is prohibited.","Suporte e atualiza√ß√µes podem ter custo adicional.":"Support and updates may have additional cost.",
"Solicitar Reembolso / Contato":"Request Refund / Contact","Reembolso":"Refund","Outro":"Other",
"Nome":"Name","E-mail":"Email","N√∫mero":"Phone","Mensagem":"Message","Anexar imagem (opcional)":"Attach image (optional)","Enviar":"Send",
"Mensagem enviada com sucesso!":"Message sent successfully!","Seu pedido foi recebido e ser√° analisado.":"Your request has been received and will be analyzed. For more info visit support.kdefy.com/terms-privacy"
};
let currentLang='pt';
function updateLang(){document.querySelectorAll('[data-translate]').forEach(el=>{
if(currentLang==='en'&&translations.en[el.getAttribute('data-translate')]) el.textContent=translations.en[el.getAttribute('data-translate')];
if(currentLang==='pt'&&el.getAttribute('data-translate')) el.textContent=el.getAttribute('data-translate');
})}
</script>
</body>
</html>
